# Multi-Environment Development Guide

## 概要
会社(Office)と自宅(Home)で同じリポジトリを扱う際、AIの「記憶(Brain)」と「計画(Plan)」を同期するためのガイドラインです。

## 現状の課題
- **チャット履歴**: ローカル(`C:\Users\...\.gemini`)に保存されており、自動同期されません。
- **絶対パス**: 環境ごとにパス(`Z:\` vs `D:\`など)が異なると、AIのパス記憶が矛盾を起こします。

## 解決策: "Documentation as Brain"
AIの記憶に頼らず、**ドキュメントを正**とする体制に移行します。

### 1. 管理すべきファイル (Git管理下へ)
以下のファイルをリポジトリルート(`z:\MultiMorpher`)に配置し、Gitで同期します。
これでどの環境のAIもファイルを読み込むだけで最新状況を理解できます。

- **`GEMINI.md`**: プロジェクト全体のルール、設計思想、重要定数（サンプリングレート等）。(既存)
- **`task.md`**: 進捗状況。`[x]` のチェック状況で「どこまでやったか」を共有。
- **`implementation_plan.md`**: 最新の技術仕様書。
- **`DEBUG_NOTE.md`**: エラーと解決策のログ。(既存)

### 2. 環境差異の吸収
コード内で絶対パスを書かず、相対パスまたは設定ファイルを使用します。
- **Config**: `pysfx_config.json` 等に `output_dir` などを書き出し、`.gitignore` します。
- **Script**: `os.path.dirname(__file__)` を起点にパスを解決します。

## 運用フロー
1. **作業開始時**: `git pull` -> AIに「`task.md` と `DEBUG_NOTE.md` を読んで現状把握して」と指示。
2. **作業終了時**: `task.md` を更新 -> `git push`。

この「ドキュメント駆動」により、チャット履歴が消えてもプロジェクトは継続可能です。
